{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/code/web/fumadco/my/components/docs/not-found.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\n\r\nconst exactMap: Record<string, string> = {\r\n  '/docs': '/docs/introduction',\r\n  '/docs/intro': '/docs/introduction',\r\n  '/docs/guide/dashboard/workflow/coreferenceresolution':\r\n    '/docs/introduction/guide/dashboard/workflow/coreferenceResolution',\r\n  '/docs/guide/admin/sso_dingtalk':\r\n    '/docs/introduction/guide/admin/sso#/docs/introduction/guide/admin/sso#钉钉',\r\n  '/docs/guide/knowledge_base/rag': '/docs/introduction/guide/knowledge_base/RAG',\r\n  '/docs/commercial/intro/': '/docs/introduction/commercial',\r\n  '/docs/upgrading/intro/': '/docs/upgrading',\r\n  '/docs/introduction/shopping_cart/intro/': '/docs/introduction/commercial'\r\n};\r\n\r\nconst prefixMap: Record<string, string> = {\r\n  '/docs/development': '/docs/introduction/development',\r\n  '/docs/FAQ': '/docs/faq',\r\n  '/docs/guide': '/docs/introduction/guide',\r\n  '/docs/shopping_cart': '/docs/introduction/shopping_cart',\r\n  '/docs/agreement': '/docs/protocol'\r\n};\r\n\r\nconst fallbackRedirect = '/docs/introduction';\r\n\r\nexport default function NotFound() {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (exactMap[pathname]) {\r\n        window.location.replace(exactMap[pathname]);\r\n        return;\r\n      }\r\n\r\n      for (const [oldPrefix, newPrefix] of Object.entries(prefixMap)) {\r\n        if (pathname.startsWith(oldPrefix)) {\r\n          const rest = pathname.slice(oldPrefix.length);\r\n          window.location.replace(newPrefix + rest);\r\n          return;\r\n        }\r\n      }\r\n\r\n      try {\r\n        const basePath = pathname.replace(/\\/$/, '');\r\n        const res = await fetch(`/api/meta?path=${basePath}`);\r\n        console.log('res', res);\r\n\r\n        if (!res.ok) throw new Error('meta API not found');\r\n\r\n        const validPage = await res.json();\r\n\r\n        if (validPage) {\r\n          console.log('validPage', validPage);\r\n          window.location.replace(validPage);\r\n          return;\r\n        }\r\n      } catch (e) {\r\n        console.warn('meta.json fallback failed:', e);\r\n      }\r\n\r\n      window.location.replace(fallbackRedirect);\r\n    })();\r\n  }, [pathname, router]);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;AACA;AACA;;AAFA;;;AAIA,MAAM,WAAmC;IACvC,SAAS;IACT,eAAe;IACf,wDACE;IACF,kCACE;IACF,kCAAkC;IAClC,2BAA2B;IAC3B,0BAA0B;IAC1B,2CAA2C;AAC7C;AAEA,MAAM,YAAoC;IACxC,qBAAqB;IACrB,aAAa;IACb,eAAe;IACf,uBAAuB;IACvB,mBAAmB;AACrB;AAEA,MAAM,mBAAmB;AAEV,SAAS;;IACtB,MAAM,WAAW,CAAA,GAAA,oQAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,SAAS,CAAA,GAAA,oQAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,4RAAA,CAAA,YAAS,AAAD;8BAAE;YACR;sCAAC;oBACC,IAAI,QAAQ,CAAC,SAAS,EAAE;wBACtB,OAAO,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS;wBAC1C;oBACF;oBAEA,KAAK,MAAM,CAAC,WAAW,UAAU,IAAI,OAAO,OAAO,CAAC,WAAY;wBAC9D,IAAI,SAAS,UAAU,CAAC,YAAY;4BAClC,MAAM,OAAO,SAAS,KAAK,CAAC,UAAU,MAAM;4BAC5C,OAAO,QAAQ,CAAC,OAAO,CAAC,YAAY;4BACpC;wBACF;oBACF;oBAEA,IAAI;wBACF,MAAM,WAAW,SAAS,OAAO,CAAC,OAAO;wBACzC,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,UAAU;wBACpD,QAAQ,GAAG,CAAC,OAAO;wBAEnB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;wBAE7B,MAAM,YAAY,MAAM,IAAI,IAAI;wBAEhC,IAAI,WAAW;4BACb,QAAQ,GAAG,CAAC,aAAa;4BACzB,OAAO,QAAQ,CAAC,OAAO,CAAC;4BACxB;wBACF;oBACF,EAAE,OAAO,GAAG;wBACV,QAAQ,IAAI,CAAC,8BAA8B;oBAC7C;oBAEA,OAAO,QAAQ,CAAC,OAAO,CAAC;gBAC1B;aAAC;QACH;6BAAG;QAAC;QAAU;KAAO;IAErB,OAAO;AACT;GA1CwB;;QACL,oQAAA,CAAA,cAAW;QACb,oQAAA,CAAA,YAAS;;;KAFF","debugId":null}}]
}